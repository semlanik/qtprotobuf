include(CMakeFindDependencyMacro)
# We only look for protoc, libprotoc should already be in rpath or linked statically
find_package(WrapProtobuf COMPONENTS Generator REQUIRED)

if(NOT TARGET @QT_PROTOBUF_NAMESPACE@::@target@)
    include("${CMAKE_CURRENT_LIST_DIR}/@target_export@.cmake")
endif()

set_property(TARGET @QT_PROTOBUF_NAMESPACE@::@target@
    PROPERTY PROTO_PARSER "${CMAKE_CURRENT_LIST_DIR}/parsemessages.go"
)

@PACKAGE_INIT@
include("${CMAKE_CURRENT_LIST_DIR}/QtProtobufGen.cmake")
